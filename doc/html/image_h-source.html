<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>image.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindexRef" doxygen="_cgi:http://ici.la.bas/toto/tata/search.cgi" href="http://ici.la.bas/toto/tata/search.cgi">Search</a> &nbsp; </center>
<hr><h1>image.h</h1><a href="image_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">// This may look like C code, but it is really -*- C++ -*-</font>
00002 
00003 
00004 <font class="preprocessor">#ifndef IMAGE__H</font>
00005 <font class="preprocessor"></font><font class="preprocessor">#define IMAGE__H</font>
00006 <font class="preprocessor"></font><font class="preprocessor">#include &lt;iostream&gt;</font>
00007 <font class="preprocessor">#include &lt;algorithm&gt;</font> <font class="comment">/* for min .. max */</font>
00008 
00009 <font class="keyword">using</font> <font class="keyword">namespace </font>std;
00010 
00011 <font class="preprocessor">#define BADPIX -999</font>
00012 <font class="preprocessor"></font><font class="preprocessor">#define BIGVALUE  1e+30</font>
00013 <font class="preprocessor"></font><font class="keyword">class </font><a class="code" href="class_frame.html">Frame</a>; <font class="comment">/* for prototyping */</font>
00014 <font class="keyword">class </font><a class="code" href="class_gtransfo.html">Gtransfo</a>;
00015 
00016 
00017 
00023 <font class="keyword">typedef</font> <font class="keywordtype">float</font> Pixel;
00024 
00026 
<a name="l00030"></a><a class="code" href="class_image.html">00030</a> <font class="keyword">class </font><a class="code" href="class_image.html">Image</a> {
00031 
00032   <font class="keyword">friend</font> <font class="keyword">class </font><a class="code" href="class_fitsimagearray.html">FitsImageArray</a>;
00033 
00034  <font class="keyword">public</font>:
00036       <a class="code" href="class_image.html#a1">Image</a>(<font class="keyword">const</font> <font class="keywordtype">int</font> Nx, <font class="keyword">const</font> <font class="keywordtype">int</font> Ny);
00037 
00039       <a class="code" href="class_image.html#a1">Image</a>();
00041       <a class="code" href="class_image.html#a1">Image</a>(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a>&amp;);
00042       <font class="keyword">virtual</font> ~Image();
00043 
00044   <font class="comment">//#define CHECK_BOUNDS</font>
00045 
<a name="l00047"></a><a class="code" href="class_image.html#a4">00047</a>       <font class="keyword">inline</font> Pixel&amp; <a class="code" href="class_image.html#a4">operator()</a>(<font class="keyword">const</font> <font class="keywordtype">int</font> i, <font class="keyword">const</font> <font class="keywordtype">int</font> j)<font class="keyword"> </font>
00048 <font class="keyword">        </font>{
00049 <font class="preprocessor">#ifdef CHECK_BOUNDS</font>
00050 <font class="preprocessor"></font>            <font class="keywordflow">if</font> (i&lt;0 || i&gt;=nx || j&lt;0 || j&gt;=ny)
00051               {
00052                 cerr &lt;&lt; <font class="stringliteral">"Out of range i,j,nx,ny = "</font>&lt;&lt; i &lt;&lt;<font class="stringliteral">","</font>&lt;&lt; j &lt;&lt;<font class="stringliteral">","</font>&lt;&lt; nx &lt;&lt;<font class="stringliteral">","</font>&lt;&lt; ny &lt;&lt;endl;
00053               }
00054 <font class="preprocessor">#endif</font>
00055 <font class="preprocessor"></font>            <font class="keywordflow">return</font> data[i+j*nx];}
00056 
00057       <font class="keyword">inline</font> Pixel&amp; <a class="code" href="class_image.html#a4">operator() </a>(<font class="keyword">const</font> <font class="keywordtype">int</font> i, <font class="keyword">const</font> <font class="keywordtype">int</font> j)<font class="keyword"> const </font>
00058 <font class="keyword">        </font>{
00059 <font class="preprocessor">#ifdef CHECK_BOUNDS</font>
00060 <font class="preprocessor"></font>            <font class="keywordflow">if</font> (i&lt;0 || i&gt;=nx || j&lt;0 || j&gt;=ny)
00061               {
00062                 cerr &lt;&lt; <font class="stringliteral">"Out of range i,j,nx,ny = "</font>&lt;&lt; i &lt;&lt;<font class="stringliteral">","</font>&lt;&lt; j &lt;&lt;<font class="stringliteral">","</font>&lt;&lt; nx &lt;&lt;<font class="stringliteral">","</font>&lt;&lt; ny &lt;&lt;endl;
00063               }
00064 <font class="preprocessor">#endif</font>
00065 <font class="preprocessor"></font>            <font class="keywordflow">return</font> data[i+j*nx];}
00066 
00067       <font class="keyword">inline</font> Pixel&amp; value(<font class="keyword">const</font> <font class="keywordtype">int</font> i, <font class="keyword">const</font> <font class="keywordtype">int</font> j)<font class="keyword"></font>
00068 <font class="keyword">        </font>{ <font class="keywordflow">return</font> data[i+j*nx];}
00069 
00071       Pixel <a class="code" href="class_image.html#a7">MinValue</a>() <font class="keyword">const</font>;
00073       Pixel <a class="code" href="class_image.html#a8">MaxValue</a>() <font class="keyword">const</font>;
00075       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a9">MinMaxValue</a>(Pixel *Min, Pixel *Max) <font class="keyword">const</font>;
00076 
00077   <font class="keywordtype">void</font> ClippedMeanSigmaValue(<font class="keywordtype">double</font> &amp; Mean, <font class="keywordtype">double</font> &amp; Sigma, 
00078                              <a class="code" href="class_image.html">Image</a> *pmask=NULL) <font class="keyword">const</font> ;
00079 
00081   Pixel <a class="code" href="class_image.html#a11">MedianInFrame</a>(<font class="keyword">const</font> <a class="code" href="class_frame.html">Frame</a> &amp;Region, Pixel &amp;Sigma) <font class="keyword">const</font>;
00082 
00084       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a12">EnforceMinMax</a>(Pixel min, Pixel max) <font class="keyword">const</font>;
00085 
00086       <font class="keywordtype">int</font> minx()<font class="keyword"> const </font>{<font class="keywordflow">return</font> 0;};
00087       <font class="keywordtype">int</font> maxx()<font class="keyword"> const </font>{<font class="keywordflow">return</font> nx-1;};
00088       <font class="keywordtype">int</font> miny()<font class="keyword"> const </font>{<font class="keywordflow">return</font> 0;};
00089       <font class="keywordtype">int</font> maxy()<font class="keyword"> const </font>{<font class="keywordflow">return</font> ny-1;};
00090 
00092       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a17">MeanSigmaValue</a>(Pixel *Mean, Pixel *Sigma) <font class="keyword">const</font>;
00094       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a18">SkyLevel</a>(Pixel *Mean, Pixel *Sigma) <font class="keyword">const</font>;
00095       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a18">SkyLevel</a>(<font class="keyword">const</font> <a class="code" href="class_frame.html">Frame</a> &amp;<a class="code" href="class_frame.html">Frame</a>, Pixel *Mean, Pixel *Sigma) <font class="keyword">const</font>;
00096 
00098       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a20">Surface</a>(<font class="keyword">const</font> <font class="keywordtype">int</font> MeshStep, <a class="code" href="class_image.html">Image</a> &amp;Result);
00099 
00100       <font class="keywordtype">void</font> dump() <font class="keyword">const</font>;
<a name="l00102"></a><a class="code" href="class_image.html#a22">00102</a>       <font class="keywordtype">int</font> <a class="code" href="class_image.html#a22">Nx</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> nx;}
<a name="l00104"></a><a class="code" href="class_image.html#a23">00104</a>       <font class="keywordtype">int</font> <a class="code" href="class_image.html#a23">Ny</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> ny;}
00105 
00106       <a class="code" href="class_image.html">Image</a> &amp; operator =(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a>&amp; Right);
00107 
<a name="l00109"></a><a class="code" href="class_image.html#a25">00109</a>       <font class="keywordtype">int</font> <a class="code" href="class_image.html#a25">NPix</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> nx*ny;}
00110 
00112 
00113       <a class="code" href="class_image.html">Image</a> operator +(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a>&amp; Right) <font class="keyword">const</font>;
00115       <a class="code" href="class_image.html">Image</a> operator -(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a>&amp; Right) <font class="keyword">const</font>;
00117       <a class="code" href="class_image.html">Image</a> operator *(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a>&amp; Right) <font class="keyword">const</font>;
00119       <a class="code" href="class_image.html">Image</a> operator /(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a>&amp; Right) <font class="keyword">const</font>;
00120 
00122       <font class="keywordtype">void</font> operator +=(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a>&amp; Right) <font class="keyword">const</font>;
00124       <font class="keywordtype">void</font> operator -=(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a>&amp; Right) <font class="keyword">const</font>;
00126       <font class="keywordtype">void</font> operator *=(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a>&amp; Right) <font class="keyword">const</font>;
00128       <font class="keywordtype">void</font> operator /=(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a>&amp; Right) <font class="keyword">const</font>;
00129 
00131       <a class="code" href="class_image.html">Image</a> operator +(<font class="keyword">const</font> <font class="keywordtype">double</font> Right) <font class="keyword">const</font>;
00133       <a class="code" href="class_image.html">Image</a> operator -(<font class="keyword">const</font> <font class="keywordtype">double</font> Right) <font class="keyword">const</font>;
00135       <a class="code" href="class_image.html">Image</a> operator *(<font class="keyword">const</font> <font class="keywordtype">double</font> Right) <font class="keyword">const</font>;
00137       <a class="code" href="class_image.html">Image</a> operator /(<font class="keyword">const</font> <font class="keywordtype">double</font> Right) <font class="keyword">const</font>;
00138 
00140       <font class="keyword">friend</font> <a class="code" href="class_image.html">Image</a> operator +(<font class="keyword">const</font> <font class="keywordtype">double</font> Left, <font class="keyword">const</font> <a class="code" href="class_image.html">Image</a> &amp;Right);
00142       <font class="keyword">friend</font> <a class="code" href="class_image.html">Image</a> operator -(<font class="keyword">const</font> <font class="keywordtype">double</font> Left, <font class="keyword">const</font> <a class="code" href="class_image.html">Image</a> &amp;Right);
00144       <font class="keyword">friend</font> <a class="code" href="class_image.html">Image</a> operator *(<font class="keyword">const</font> <font class="keywordtype">double</font> Left, <font class="keyword">const</font> <a class="code" href="class_image.html">Image</a> &amp;Right);
00146       <font class="keyword">friend</font> <a class="code" href="class_image.html">Image</a> operator /(<font class="keyword">const</font> <font class="keywordtype">double</font> Left, <font class="keyword">const</font> <a class="code" href="class_image.html">Image</a> &amp;Right);
00147 
00149       <font class="keywordtype">void</font> operator =(<font class="keyword">const</font> <font class="keywordtype">double</font> Right);
00151       <font class="keywordtype">void</font> operator +=(<font class="keyword">const</font> <font class="keywordtype">double</font> Right);
00153       <font class="keywordtype">void</font> operator -=(<font class="keyword">const</font> <font class="keywordtype">double</font> Right);
00155       <font class="keywordtype">void</font> operator *=(<font class="keyword">const</font> <font class="keywordtype">double</font> Right);
00157       <font class="keywordtype">void</font> operator /=(<font class="keyword">const</font> <font class="keywordtype">double</font> Right);
00158 
00159 
00161   <font class="keywordtype">void</font> <a class="code" href="class_image.html#a43">MultiplyBySquare</a>(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a>&amp; Right);
00162 
00164       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a44">Heavyside</a>();
00165 
00166 
00168       Pixel <a class="code" href="class_image.html#a45">Interpolate</a>(<font class="keyword">const</font> <font class="keywordtype">double</font> x, <font class="keyword">const</font> <font class="keywordtype">double</font> y, <font class="keyword">const</font> <font class="keywordtype">int</font> level = 3,
00169                         <font class="keyword">const</font> <font class="keywordtype">bool</font> IsVarianceMap = <font class="keyword">false</font>) <font class="keyword">const</font>;
00171   <a class="code" href="class_image.html">Image</a> <a class="code" href="class_image.html#a46">GtransfoImage</a>(<font class="keyword">const</font> <a class="code" href="class_gtransfo.html">Gtransfo</a> &amp; g, <font class="keywordtype">int</font> nx, <font class="keywordtype">int</font> ny, 
00172                      <font class="keywordtype">float</font> DefaultVal, <font class="keyword">const</font> <font class="keywordtype">int</font> interpLevel=3, 
00173                       <font class="keyword">const</font> <font class="keywordtype">bool</font> IsVarianceMap = <font class="keyword">false</font>) <font class="keyword">const</font>;
00175       <a class="code" href="class_image.html">Image</a> <a class="code" href="class_image.html#a47">Subimage</a>(<font class="keyword">const</font> <font class="keywordtype">int</font> x, <font class="keyword">const</font> <font class="keywordtype">int</font> y, <font class="keyword">const</font> <font class="keywordtype">int</font> width, <font class="keyword">const</font> <font class="keywordtype">int</font> height) <font class="keyword">const</font>;
00176 
00178       <a class="code" href="class_image.html">Image</a> <a class="code" href="class_image.html#a47">Subimage</a>(<font class="keyword">const</font> <a class="code" href="class_frame.html">Frame</a> &amp;frame) <font class="keyword">const</font>;
00179 
00181       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a49">SubimageMultiply</a>(<font class="keyword">const</font> <font class="keywordtype">int</font> x, <font class="keyword">const</font> <font class="keywordtype">int</font> y, <font class="keyword">const</font> <font class="keywordtype">int</font> width, <font class="keyword">const</font> <font class="keywordtype">int</font> height, <font class="keywordtype">double</font> factor);
00182 
00184       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a49">SubimageMultiply</a>(<font class="keyword">const</font> <a class="code" href="class_frame.html">Frame</a> &amp;frame, <font class="keywordtype">double</font> factor);
00185 
00187       <a class="code" href="class_image.html">Image</a> <a class="code" href="class_image.html#a51">Mask</a>(<font class="keyword">const</font> <font class="keywordtype">int</font> x_Beg, <font class="keyword">const</font> <font class="keywordtype">int</font> y_Beg, <font class="keyword">const</font> <font class="keywordtype">int</font> x_End, <font class="keyword">const</font> <font class="keywordtype">int</font> y_End) <font class="keyword">const</font>;
00188 
00189 
00191       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a52">Masking</a>(<font class="keyword">const</font> <a class="code" href="class_frame.html">Frame</a> &amp;frame, <font class="keyword">const</font> Pixel &amp;MaskValue=1);
00192 
00194       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a53">DiskMaskIt</a>(<font class="keyword">const</font> <font class="keywordtype">double</font> &amp;xc, <font class="keyword">const</font> <font class="keywordtype">double</font> &amp;yc, <font class="keyword">const</font> <font class="keywordtype">double</font> &amp;radius);
00195 
00197       <font class="keywordtype">void</font>  <a class="code" href="class_image.html#a54">Truncate</a>(<font class="keyword">const</font> <font class="keywordtype">double</font> &amp;xc, <font class="keyword">const</font> <font class="keywordtype">double</font> &amp;yc, <font class="keyword">const</font> <font class="keywordtype">double</font> &amp;radius);
00198 
00199 
00201       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a52">Masking</a>(<font class="keyword">const</font> <font class="keywordtype">int</font> x_Beg, <font class="keyword">const</font> <font class="keywordtype">int</font> y_Beg, 
00202                    <font class="keyword">const</font> <font class="keywordtype">int</font> x_End, <font class="keyword">const</font> <font class="keywordtype">int</font> y_End, 
00203                    <font class="keyword">const</font> Pixel &amp;MaskValue=1);
00204 
00206       <font class="keywordtype">void</font> <a class="code" href="class_image.html#a56">Simplify</a>(<font class="keywordtype">double</font> threshold, <font class="keywordtype">int</font> above_val=1, <font class="keywordtype">int</font> under_val=0);
00208   <font class="keywordtype">void</font>  <a class="code" href="class_image.html#a57">RemoveLonePix</a>(<a class="code" href="class_image.html">Image</a> &amp; result, <font class="keywordtype">int</font> d=1);
00209 
00211   <font class="keywordtype">double</font> <a class="code" href="class_image.html#a58">SumPixels</a>();
00212 
00214   <font class="keywordtype">double</font> <a class="code" href="class_image.html#a59">SumSquaredPixels</a>() <font class="keyword">const</font>;
00215 
00216 
00217   <font class="keywordtype">void</font> MedianFilter(<font class="keyword">const</font> <font class="keywordtype">int</font> HalfWidth);
00218 
<a name="l00220"></a><a class="code" href="class_image.html#a61">00220</a>       Pixel* <a class="code" href="class_image.html#a61">begin</a>()<font class="keyword"> </font>{ <font class="keywordflow">return</font> data;}
00221       Pixel* <a class="code" href="class_image.html#a61">begin</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> data;}
<a name="l00223"></a><a class="code" href="class_image.html#a63">00223</a>       Pixel* <a class="code" href="class_image.html#a63">end</a>()<font class="keyword"> </font>{ <font class="keywordflow">return</font> data+nx*ny;} 
00224       Pixel* <a class="code" href="class_image.html#a63">end</a>()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> data+nx*ny;} 
00226   <font class="keywordtype">bool</font> SameSize(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a> &amp;Other)<font class="keyword"> const </font>
00227 <font class="keyword">  </font>{ <font class="keywordflow">return</font> (nx == Other.nx &amp;&amp; ny == Other.ny);};
00228   
00229   <font class="comment">//ostream&amp; friend operator &lt;&lt; (ostream&amp; stream,  const Image&amp; I)</font>
00230   
00232   <font class="keywordtype">int</font> <a class="code" href="class_image.html#a66">LaplacianFilter</a>( <font class="keyword">const</font> <font class="keywordtype">double</font> &amp;Sigma, <font class="keyword">const</font> <font class="keywordtype">double</font> &amp;Mean, 
00233                        <font class="keyword">const</font> <font class="keywordtype">double</font> &amp;seeing, <a class="code" href="class_image.html">Image</a> &amp;CosmicImage);
00234   
00236   <font class="comment">//of the image using laplacian filter</font>
00237   <font class="keywordtype">void</font> <a class="code" href="class_image.html#a67">Cosmics</a>(<font class="keyword">const</font> <font class="keywordtype">double</font> &amp;Sigma, <font class="keyword">const</font> <font class="keywordtype">double</font> &amp;Mean,
00238                <font class="keyword">const</font> <font class="keywordtype">double</font> &amp;seeing, <a class="code" href="class_image.html">Image</a> &amp;CosmicImage);
00239 
00240 
00241   <font class="keywordtype">void</font> ApplyFun(<font class="keywordtype">double</font> (&amp;F)(<font class="keywordtype">double</font>))
00242   {
00243     Pixel *pend = <a class="code" href="class_image.html#a63">end</a>();
00244     <font class="keywordflow">for</font> (Pixel *p = <a class="code" href="class_image.html#a61">begin</a>(); p &lt; pend; ++p) *p = F(*p);
00245   }
00246 
00247  <font class="keyword">protected</font> :
00248       <font class="keywordtype">void</font> allocate(<font class="keywordtype">int</font> Nx, <font class="keywordtype">int</font> Ny, <font class="keywordtype">int</font> Init=1 );
00249 
00250       Pixel *data;
00251       <font class="keywordtype">int</font> nx,ny;
00252       Pixel *get_elem_ref(<font class="keywordtype">int</font> i, <font class="keywordtype">int</font> j)<font class="keyword"> </font>{<font class="keywordflow">return</font> data+i+nx*j;}
00253 
00254  <font class="keyword">private</font> :
00255       <font class="keyword">friend</font> <font class="keywordtype">void</font> image_copy(<a class="code" href="class_image.html">Image</a> *To, <font class="keyword">const</font> <a class="code" href="class_image.html">Image</a> *From);
00256 
00257 
00258 };
00259 
00260 
00261 <font class="keyword">class </font>ImageWindow {
00262   <font class="comment">/* DOC This class is intended to manipulate a subimage without actually extracting it*/</font>
00263 
00264   <font class="keyword">public</font> :
00265   <font class="keywordtype">int</font> xstart, ystart, xend, yend;
00266   <font class="keyword">const</font> <a class="code" href="class_image.html">Image</a> &amp;TheImage;
00267   
00269   ImageWindow(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a>&amp; AnImage, <font class="keywordtype">int</font> XStart, <font class="keywordtype">int</font> YStart, <font class="keywordtype">int</font> Width, <font class="keywordtype">int</font> Height) : TheImage(AnImage)
00270     {
00271     xstart = max(XStart,TheImage.minx());
00272     ystart = max(YStart,TheImage.miny());
00273     xend   = min(XStart + Width,  TheImage.maxx()+2-TheImage.minx()); <font class="comment">/* 1 beyond the end */</font>
00274     yend   = min(YStart + Height, TheImage.maxy()+2-TheImage.miny());<font class="comment">/* in that case you have to add 2 and subtract minx() or miny() */</font>
00275     };
00277   <font class="keywordtype">int</font> width()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> xend-xstart;}
00279   <font class="keywordtype">int</font> height()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> yend-ystart;}
00281   <font class="keywordtype">int</font> area()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> width()*height();}
00283   <font class="keyword">friend</font> ostream &amp; <a class="code" href="starmatch_h.html#a3">operator &lt;&lt; </a>(ostream &amp;stream, <font class="keyword">const</font> ImageWindow &amp;w)<font class="keyword"></font>
00284 <font class="keyword">    </font>{ stream &lt;&lt; <font class="stringliteral">" x y "</font> &lt;&lt; w.xstart &lt;&lt; <font class="charliteral">' '</font> &lt;&lt; w.ystart &lt;&lt; <font class="stringliteral">" xe ye "</font> &lt;&lt; w.xend &lt;&lt; <font class="charliteral">' '</font> &lt;&lt; w.yend &lt;&lt; <font class="stringliteral">" s "</font> &lt;&lt; w.area() &lt;&lt; endl;
00285       <font class="keywordflow">return</font> stream;}
00286   Pixel&amp; operator()(<font class="keyword">const</font> <font class="keywordtype">int</font> x, <font class="keyword">const</font> <font class="keywordtype">int</font> y)<font class="keyword"> </font>{ <font class="keywordflow">return</font> TheImage(x+xstart,y+ystart);}
00287 };
00288     
00289 
00290 
00291 <font class="keyword">class </font>PixelIterator { 
00292 <font class="keyword">public</font>:
00294   PixelIterator(<font class="keyword">const</font> ImageWindow &amp;Window) : 
00295                   lineLength(Window.TheImage.Nx()) , 
00296                   jump( lineLength - Window.xend  + Window.xstart),
00297                   end(&amp;(Window.TheImage(Window.xend, Window.yend-1))),
00298                   start(&amp;(Window.TheImage(Window.xstart, Window.ystart))) 
00299                         { Restart();} 
00300                   
00301   <font class="keywordtype">void</font> Restart()<font class="keyword"> </font>{current = start; currentLineEnd = current + lineLength-jump;}
00302   
00303   <font class="keywordtype">void</font> operator++()<font class="keyword"> </font>{ <font class="keywordflow">if</font> (++current==currentLineEnd)   <font class="comment">/* postfix */</font> 
00304                       {current+=jump; currentLineEnd += lineLength;}
00305                        }
00306   Pixel&amp; operator*()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> *current;}
00307   <font class="keywordtype">bool</font> BeyondEnd()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> (current&gt;=end);}
00308   <font class="keywordtype">bool</font> KeepGoing()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> (current&lt;end);}
00309 
00319 <font class="keyword">private</font> :
00320   Pixel *current;
00321   <font class="keyword">const</font> <font class="keywordtype">int</font>  lineLength;
00322   <font class="keyword">const</font> <font class="keywordtype">int</font> jump;
00323   Pixel *<font class="keyword">const</font> end;
00324   Pixel *<font class="keyword">const</font> start;
00325   Pixel *currentLineEnd;
00326 };
00327 
00328 
00330 <font class="keywordtype">double</font> <a class="code" href="image_h.html#a3">EmpiricCov</a>(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a> &amp;Im1,<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a> &amp;Im2);
00331 
00333 <font class="keywordtype">double</font> <a class="code" href="image_h.html#a4">ImageAndWeightError</a>(<font class="keyword">const</font> <a class="code" href="class_image.html">Image</a> &amp;I, <font class="keyword">const</font> <a class="code" href="class_image.html">Image</a> &amp;W,
00334                          <font class="keyword">const</font> <font class="keywordtype">double</font> MinWeight = 0, <font class="keywordtype">double</font> *AverageShift = NULL);  
00335 
00336 
00337 <font class="preprocessor">#endif </font><font class="comment">/* IMAGE__H */</font>
</pre></div><hr><address><small>Generated at Sun Feb 8 18:22:49 2004 for toads by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
