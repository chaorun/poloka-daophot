<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>convtemplate.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindexRef" doxygen="_cgi:http://ici.la.bas/toto/tata/search.cgi" href="http://ici.la.bas/toto/tata/search.cgi">Search</a> &nbsp; </center>
<hr><h1>convtemplate.h</h1><div class="fragment"><pre>00001 <font class="comment">// This may look like C code, but it is really -*- C++ -*-</font>
00002 
00003 
00004 
00005 <font class="keyword">static</font> <font class="keywordtype">void</font> 
00006 Convole_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp;  imgref , 
00007 <a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; noyau , <a class="code" href="class_image.html">Image</a> &amp; imgconv )
00008 <font class="comment">/*convolution de imgref, resultat ds imgconv. on convole avec le  </font>
00009 <font class="comment">noyau non normalise . ilpeut y a avoir un masque (=NULL) par defaut.</font>
00010 <font class="comment">Ds ce cas, on copie imgref ds imgconv et on ne convole que la ou il y a 1</font>
00011 <font class="comment">su le masque */</font>
00012 {
00013       TRY{
00014     <font class="keywordtype">int</font> i ,  j , l , k , d = LDEMICOTE;  ;
00015     <font class="keywordtype">int</font> tx , ty ;
00016     <font class="keyword">const</font> Pixel  *penhautagauche;
00017     Pixel *parrivee;
00018     <font class="keywordtype">int</font> deltax ;
00019     <font class="keywordtype">double</font> Norma = 0 ;
00020     <font class="keywordflow">for</font>(i=0 ; i&lt;2*d + 1 ; i++)
00021       <font class="keywordflow">for</font> (j=0 ; j&lt;2*d + 1 ; j++)
00022         { 
00023           Norma += noyau(i,j)   ;
00024         }
00025 
00026 
00027     tx = imgref.<a class="code" href="class_image.html#a22">Nx</a>();
00028     ty = imgref.<a class="code" href="class_image.html#a23">Ny</a>();
00029 
00030     penhautagauche = imgref.<a class="code" href="class_image.html#a61">begin</a>() ;
00031     parrivee = imgconv.begin() ;
00032 
00033     parrivee += d*tx + d ;
00034 
00035     deltax = tx - 2* d - 1;
00036 
00037     <font class="keywordflow">for</font>(i=0; i &lt; ty - 2* d ; i++ )
00038       { 
00039         <font class="keywordflow">for</font>(j=0; j &lt; tx - 2* d ; j++ )
00040           { 
00041             <font class="keyword">register</font> <font class="keyword">const</font> Pixel  * pimage = penhautagauche ;
00042             <font class="keyword">register</font> <font class="keywordtype">double</font> S=0;
00043             <font class="keyword">register</font> <font class="keyword">const</font> Pixel  * pnoyau =noyau.<a class="code" href="class_image.html#a61">begin</a>() ;
00044             <font class="keywordflow">for</font> (k= 0; k &lt; 2* d +1  ; k++ )
00045               { 
00046                 <font class="keywordflow">for</font> (l= 0; l &lt; 2*d + 1 ; l++ )  
00047                   { 
00048                     Pixel f = *pimage ;
00049                     <font class="keywordtype">double</font>  nn = *pnoyau  ;
00050                     S += (<font class="keywordtype">double</font>) ( nn * f ) ;
00051                     pimage++ ;
00052                     pnoyau++ ;
00053                     <font class="comment">//S += *pimage++ * *pnoyau++ ;</font>
00054                   }
00055                 pimage += deltax;
00056               } 
00057             <font class="keywordtype">double</font> r = S / Norma ;
00058             *parrivee++ = (Pixel) r ;
00059             penhautagauche++ ;
00060           }
00061         penhautagauche += 2* d   ; 
00062         parrivee += 2*d ;
00063       } 
00064     }
00065     CATCHALL{THROW_SAME;}
00066     ENDTRY
00067     <font class="keywordflow">return</font> ;
00068 }
00069 
00070 
00071 
00072 <font class="keyword">static</font> <font class="keywordtype">void</font> 
00073 Convole_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; imgref ,   <a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; noyau,
00074                   <a class="code" href="class_image.html">Image</a> <font class="keyword">const</font>  &amp; mask , <a class="code" href="class_image.html">Image</a> &amp; imgconv)
00075 <font class="comment">/*convolution de imgref, resultat ds imgconv. on convole avec le </font>
00076 <font class="comment">noyau non normalise </font>
00077 <font class="comment">Ds ce cas, on copie imgref ds imgconv et on ne convole que la ou il y a 1</font>
00078 <font class="comment">su le masque */</font>
00079 {
00080   <font class="comment">//TIMEF</font>
00081    TRY{
00082     <font class="keywordtype">int</font> i ,  j , l , k , d = LDEMICOTE;  ;
00083     <font class="keywordtype">int</font> tx , ty ;
00084     <font class="keyword">const</font> Pixel  *penhautagauche;
00085      Pixel  *parrivee;
00086     <font class="keywordtype">int</font> deltax ;
00087 
00088     <font class="keywordtype">double</font> Norma = 0 ;
00089     <font class="keywordflow">for</font>(i=0 ; i&lt;2*d + 1 ; i++)
00090       <font class="keywordflow">for</font> (j=0 ; j&lt;2*d + 1 ; j++)
00091         { 
00092           Norma += noyau(i,j)   ;
00093         }
00094 
00095 
00096 
00097     tx = imgref.<a class="code" href="class_image.html#a22">Nx</a>();
00098     ty = imgref.<a class="code" href="class_image.html#a23">Ny</a>();
00099 
00100     penhautagauche = imgref.<a class="code" href="class_image.html#a61">begin</a>() ;
00101     parrivee = imgconv.begin() ;
00102 
00103     parrivee += d*tx + d ;
00104 
00105     deltax = tx - 2* d - 1;
00106 
00107 
00108 
00109 
00110     <font class="comment">/* ne vont etre convoles que certains pixels , a 1 sur le masque.</font>
00111 <font class="comment">       les autres restent tels quels */</font>
00112     imgconv =  imgref ; 
00113     <font class="keyword">const</font> Pixel* pmask ;
00114     pmask= mask.<a class="code" href="class_image.html#a61">begin</a>();
00115     pmask += d*tx + d ;
00116     <font class="comment">/* mis sur le premier pixel qui peut etre convole */</font>
00117     <font class="comment">// le mask est en avance sur imgref et imgconv</font>
00118 
00119     <font class="keywordflow">for</font>(i=0; i &lt; ty - 2* d ; i++ )
00120       { 
00121         <font class="keywordflow">for</font>(j=0; j &lt; tx - 2* d ; j++ )
00122           { 
00123             <font class="keyword">register</font> <font class="keyword">const</font> Pixel * pimage = penhautagauche ;
00124             <font class="keyword">register</font> <font class="keywordtype">double</font> S=0; 
00125             <font class="keyword">register</font> <font class="keyword">const</font> Pixel * pnoyau = noyau.<a class="code" href="class_image.html#a61">begin</a>() ;
00126             <font class="keywordflow">if</font> ( *pmask  ) <font class="comment">/* convolution */</font>
00127               {
00128                 <font class="keywordflow">for</font> (k= 0; k &lt; 2* d +1  ; k++ )
00129                   { 
00130                     <font class="keywordflow">for</font> (l= 0; l &lt; 2*d + 1 ; l++ )  
00131                       { 
00132                         S += *pimage++ * *pnoyau++ ;
00133                       }
00134                     pimage += deltax;
00135                   } 
00136                 *parrivee++ =  (Pixel) (S / Norma );
00137               }
00138             <font class="keywordflow">else</font>
00139               parrivee++ ; <font class="comment">// on ne fait rien</font>
00140            
00141             pmask++ ;
00142             penhautagauche++ ;
00143           }
00144         penhautagauche += 2* d   ; 
00145         parrivee += 2 * d ;
00146         pmask += 2 * d ;
00147       } 
00148     }
00149     CATCHALL{THROW_SAME;}
00150     ENDTRY
00151     <font class="keywordflow">return</font>; 
00152 }
00153 
00154 <font class="keyword">static</font> <font class="keywordtype">void</font> Convole_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; imgref ,   <font class="keywordtype">double</font> s ,
00155   <a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; mask ,   <a class="code" href="class_image.html">Image</a> &amp; imgconv)<font class="keyword"></font>
00156 <font class="keyword"></font>{
00157   TRY{
00158     <a class="code" href="class_image.html">Image</a> noyau = Convole_MakeNoyau(s,LDEMICOTE);   
00159     Convole_LDEMICOTE(imgref, noyau , mask , imgconv);
00160     } 
00161 CATCHALL{THROW_SAME;}
00162 ENDTRY
00163 }
00164 
00165 <font class="keywordtype">void</font> Convole_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; imgref ,   <font class="keywordtype">double</font> s ,
00166     <a class="code" href="class_image.html">Image</a> &amp; imgconv)<font class="keyword"></font>
00167 <font class="keyword"></font>{
00168   TRY{
00169   <a class="code" href="class_image.html">Image</a> noyau = Convole_MakeNoyau(s,LDEMICOTE);   
00170   Convole_LDEMICOTE(imgref, noyau , imgconv);
00171   } 
00172   CATCHALL{THROW_SAME;}
00173 ENDTRY
00174 }
00175 
00176 
00177 
00178 <font class="keyword">static</font> <font class="keywordtype">void</font> Convole_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; imgref ,   <font class="keywordtype">double</font> sx , <font class="keywordtype">double</font> sy ,
00179     <a class="code" href="class_image.html">Image</a> &amp; imgconv)<font class="keyword"></font>
00180 <font class="keyword"></font>{
00181   TRY{
00182   <a class="code" href="class_image.html">Image</a> noyau = Convole_MakeNoyau(sx , sy,LDEMICOTE);   
00183   Convole_LDEMICOTE(imgref, noyau , imgconv);
00184 } 
00185   CATCHALL{THROW_SAME;}
00186   ENDTRY
00187 }
00188 
00189 
00190 <font class="keyword">static</font> <font class="keywordtype">void</font> Convole_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; imgref ,   <font class="keywordtype">double</font> sx , <font class="keywordtype">double</font> sy ,
00191    <a class="code" href="class_image.html">Image</a> <font class="keyword">const</font>  &amp; mask , <a class="code" href="class_image.html">Image</a> &amp; imgconv)<font class="keyword"></font>
00192 <font class="keyword"></font>{
00193   TRY{
00194   <a class="code" href="class_image.html">Image</a> noyau = Convole_MakeNoyau(sx, sy,LDEMICOTE);   
00195   Convole_LDEMICOTE(imgref, noyau , mask ,imgconv);
00196   } 
00197   CATCHALL{THROW_SAME;}
00198   ENDTRY
00199 }
00200 
00201 
00202 
00203 
00204 <font class="comment">/**********************************************/</font>
00205 <font class="comment">/******** CONVOLUTION 1D **********************/</font>
00206 <font class="comment">/**********************************************/</font>
00207 
00208 <font class="keyword">static</font> <font class="keywordtype">void</font> 
00209 Convole1DX_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp;  imgref , <font class="keywordtype">double</font> * noyau , 
00210                      <a class="code" href="class_image.html">Image</a> &amp; imgconv )<font class="keyword"></font>
00211 <font class="keyword"></font>{
00212   <font class="comment">//convolution de imgref, resultat ds imgconv. on convole avec le  </font>
00213   <font class="comment">//noyau non normalise .  </font>
00214 
00215   <font class="comment">//TIMEF </font>
00216     TRY{
00217     <font class="keywordtype">int</font> i ,  j ,  k , d = LDEMICOTE;  ;
00218     <font class="keywordtype">int</font> tx , ty ;
00219     <font class="keyword">const</font> Pixel  *penhautagauche;
00220     Pixel *parrivee;
00221     <font class="keywordtype">double</font> Norma = 0 ;
00222     <font class="keywordflow">for</font>(i=0 ; i&lt;2*d + 1 ; i++)
00223       { 
00224         Norma += noyau[i]  ;
00225       }
00226 
00227     tx = imgref.<a class="code" href="class_image.html#a22">Nx</a>();
00228     ty = imgref.<a class="code" href="class_image.html#a23">Ny</a>();
00229 
00230     penhautagauche = imgref.<a class="code" href="class_image.html#a61">begin</a>() ;
00231     parrivee = imgconv.<a class="code" href="class_image.html#a61">begin</a>() ;
00232 
00233     parrivee +=  d ;
00234     <font class="keywordtype">int</font> Ntot = 0 ;
00235     <font class="keywordflow">for</font>(i=0; i &lt; ty  ; i++ )
00236       { 
00237         <font class="keywordflow">for</font>(j=0; j &lt; tx - 2* d ; j++ )
00238           { 
00239             <font class="keyword">register</font> <font class="keyword">const</font> Pixel  * pimage = penhautagauche ;
00240             <font class="keyword">register</font> <font class="keywordtype">double</font> S=0; 
00241             <font class="keyword">register</font> <font class="keywordtype">double</font> * pnoyau = noyau ;
00242             <font class="keywordflow">for</font> (k= 0; k &lt; 2* d +1  ; k++ )
00243               {
00244                 <font class="keywordtype">double</font> nn = *pnoyau ;
00245                 Pixel f  = *pimage ;
00246                 <font class="keywordtype">double</font> ff = (<font class="keywordtype">double</font>) f ;
00247                 S += nn * ff ;
00248                 pimage++ ;
00249                 pnoyau++ ; 
00250               } 
00251             Ntot++ ;
00252             *parrivee++ = (Pixel) (S / Norma ) ;
00253             penhautagauche++ ;
00254           }
00255         penhautagauche += 2* d   ; 
00256         parrivee += 2*d ;
00257       }
00258     } 
00259     CATCHALL{THROW_SAME;}
00260     ENDTRY
00261     <font class="keywordflow">return</font> ;
00262 }
00263 
00264 <font class="keyword">static</font> <font class="keywordtype">void</font> 
00265 Convole1DX_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; imgref , <font class="keywordtype">double</font> * noyau , 
00266                      <a class="code" href="class_image.html">Image</a> <font class="keyword">const</font>  &amp; mask , <a class="code" href="class_image.html">Image</a> &amp; imgconv)<font class="keyword"></font>
00267 <font class="keyword"></font>{
00268   <font class="comment">//convolution de imgref, resultat ds imgconv. on convole avec le </font>
00269   <font class="comment">//noyau non normalise </font>
00270   <font class="comment">// Ds ce cas, on copie imgref ds imgconv et on ne convole que la ou il y a 1</font>
00271   <font class="comment">// sur le masque </font>
00272 
00273   <font class="comment">//TIMEF</font>
00274   TRY{
00275     <font class="keywordtype">int</font> i ,  j ,  k , d = LDEMICOTE;  ;
00276     <font class="keywordtype">int</font> tx , ty ;
00277     <font class="keyword">const</font> Pixel  *penhautagauche;
00278     Pixel *parrivee;
00279 
00280     <font class="keywordtype">double</font> Norma = 0 ;
00281     <font class="keywordflow">for</font>(i=0 ; i&lt;2*d + 1 ; i++)
00282       { 
00283         Norma += noyau[i]  ;
00284       }
00285 
00286 
00287 
00288 
00289     tx = imgref.<a class="code" href="class_image.html#a22">Nx</a>();
00290     ty = imgref.<a class="code" href="class_image.html#a23">Ny</a>();
00291 
00292     penhautagauche = imgref.<a class="code" href="class_image.html#a61">begin</a>() ;
00293     parrivee = imgconv.<a class="code" href="class_image.html#a61">begin</a>() ;
00294 
00295     parrivee +=  d ;
00296 
00297 
00298 
00299 
00300     <font class="comment">/* ne vont etre convoles que certains pixels , a 1 sur le masque.</font>
00301 <font class="comment">       les autres restent tels quels */</font>
00302     imgconv = imgref ; 
00303     <font class="keyword">const</font> Pixel * pmask ;
00304     pmask= mask.<a class="code" href="class_image.html#a61">begin</a>();
00305     pmask += d ; <font class="comment">/* mis sur le premier pixel qui peut etre convole */</font>
00306 
00307     <font class="keywordflow">for</font>(i=0; i &lt; ty  ; i++ )
00308       { 
00309         <font class="keywordflow">for</font>(j=0; j &lt; tx - 2* d ; j++ )
00310           { 
00311             <font class="keyword">register</font> <font class="keyword">const</font> Pixel * pimage = penhautagauche ;
00312             <font class="keyword">register</font> <font class="keywordtype">double</font> S=0; 
00313             <font class="keyword">register</font> <font class="keywordtype">double</font> * pnoyau = noyau ;
00314             <font class="keywordflow">if</font> ( *pmask  ) <font class="comment">/* convolution */</font>
00315               {
00316                 <font class="keywordflow">for</font> (k= 0; k &lt; 2* d +1  ; k++ )
00317                   { 
00318                     S += *pimage++ * *pnoyau++  ;   
00319                   } 
00320                 *parrivee++ = (Pixel) (S / Norma ) ;
00321                       
00322 
00323               }
00324             <font class="keywordflow">else</font>
00325               parrivee++ ; <font class="comment">// on ne fait rien</font>
00326            
00327             pmask++ ;
00328             penhautagauche++ ;
00329           }
00330         penhautagauche += 2* d   ; 
00331         parrivee += 2 * d ;
00332         pmask += 2 * d ;
00333       }
00334     }  
00335     CATCHALL{THROW_SAME;}
00336     ENDTRY
00337   
00338     <font class="keywordflow">return</font>; 
00339 }
00340 
00341 <font class="keyword">static</font> <font class="keywordtype">void</font> 
00342 Convole1DY_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp;  imgref , 
00343                      <font class="keywordtype">double</font> * noyau , <a class="code" href="class_image.html">Image</a> &amp; imgconv )
00344   <font class="comment">// convolution de imgref, resultat ds imgconv. on convole avec le  </font>
00345   <font class="comment">// noyau non normalise .</font>
00346 {
00348   TRY{
00349     <font class="keywordtype">int</font> i ,  j ,  k , d = LDEMICOTE;  ;
00350     <font class="keywordtype">int</font> tx , ty ;
00351     <font class="keyword">const</font> Pixel  *penhautagauche;
00352     Pixel *parrivee;
00353     <font class="keywordtype">double</font> Norma = 0 ;
00354     <font class="keywordflow">for</font>(i=0 ; i&lt;2*d + 1 ; i++)
00355       { 
00356         Norma += noyau[i]  ;
00357       }
00358 
00359 
00360     tx = imgref.<a class="code" href="class_image.html#a22">Nx</a>();
00361     ty = imgref.<a class="code" href="class_image.html#a23">Ny</a>();
00362 
00363     penhautagauche = imgref.<a class="code" href="class_image.html#a61">begin</a>() ;
00364     parrivee = imgconv.begin() ;
00365 
00366 
00367     parrivee +=  d  * tx;
00368     <font class="keywordflow">for</font>(i=0; i &lt; ty - 2* d  ; i++ )
00369       { 
00370         <font class="keywordflow">for</font>(j=0; j &lt; tx  ; j++ )
00371           { 
00372             <font class="keyword">register</font> <font class="keyword">const</font> Pixel  * pimage = penhautagauche ;
00373             <font class="keyword">register</font> <font class="keywordtype">double</font> S=0; 
00374             <font class="keyword">register</font> <font class="keywordtype">double</font> * pnoyau = noyau ;
00375             <font class="keywordflow">for</font> (k= 0; k &lt; 2* d +1  ; k++ )
00376               {
00377                 Pixel f = *pimage ;
00378                 <font class="keywordtype">double</font> ff = (<font class="keywordtype">double</font>) f ;
00379                 <font class="comment">//double nn = *pnoyau ;</font>
00380                 <font class="keywordtype">double</font> nn = noyau[k] ;
00381                 S += ff * nn ;   
00382                 pimage +=  tx ; pnoyau++  ;
00383               }
00384             <font class="keywordtype">double</font> r = S / Norma ;
00385             *parrivee++ = (Pixel) r ;
00386             penhautagauche++ ;
00387           }
00388        
00389       } 
00390     }  
00391     CATCHALL{THROW_SAME;}
00392     ENDTRY
00393     <font class="keywordflow">return</font> ;
00394 }
00395 
00396 <font class="keyword">static</font> <font class="keywordtype">void</font> 
00397 Convole1DY_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; imgref ,   <font class="keywordtype">double</font> * noyau,
00398                      <a class="code" href="class_image.html">Image</a> <font class="keyword">const</font>  &amp; mask , <a class="code" href="class_image.html">Image</a> &amp; imgconv)<font class="keyword"></font>
00399 <font class="keyword"></font>{
00400   <font class="comment">//  convolution de imgref, resultat ds imgconv. on convole avec le </font>
00401   <font class="comment">//noyau non normalise </font>
00402   <font class="comment">//Ds ce cas, on copie imgref ds imgconv et on ne convole que la ou il y a 1</font>
00403   <font class="comment">//sur le masque </font>
00404   <font class="comment">//TIMEF</font>
00405     TRY{
00406     <font class="keywordtype">int</font> i ,  j ,  k , d = LDEMICOTE;  ;
00407     <font class="keywordtype">int</font> tx , ty ;
00408     <font class="keyword">const</font> Pixel  *penhautagauche;
00409     Pixel *parrivee;
00410 
00411 
00412 
00413     <font class="keywordtype">double</font> Norma = 0 ;
00414     <font class="keywordflow">for</font>(i=0 ; i&lt;2*d + 1 ; i++)
00415       { 
00416         Norma += noyau[i]  ;
00417       }
00418 
00419 
00420 
00421     tx = imgref.<a class="code" href="class_image.html#a22">Nx</a>();
00422     ty = imgref.<a class="code" href="class_image.html#a23">Ny</a>();
00423 
00424     penhautagauche = imgref.<a class="code" href="class_image.html#a61">begin</a>() ;
00425     parrivee = imgconv.<a class="code" href="class_image.html#a61">begin</a>() ;
00426 
00427     parrivee += d*tx  ;
00428 
00429     <font class="comment">// ne vont etre convoles que certains pixels , a 1 sur le masque.</font>
00430     <font class="comment">//les autres restent tels quels </font>
00431     imgconv =  imgref ; 
00432     <font class="keyword">const</font> Pixel * pmask ;
00433     pmask= mask.<a class="code" href="class_image.html#a61">begin</a>();
00434     pmask += d*tx  ; <font class="comment">/* mis sur le premier pixel qui peut etre convole */</font>
00435 
00436     <font class="keywordflow">for</font>(i=0; i &lt; ty - 2* d ; i++ )
00437       { 
00438         <font class="keywordflow">for</font>(j=0; j &lt; tx  ; j++ )
00439           { 
00440             <font class="keyword">register</font> <font class="keyword">const</font> Pixel * pimage = penhautagauche ;
00441             <font class="keyword">register</font> <font class="keywordtype">double</font> S=0; 
00442             <font class="keyword">register</font> <font class="keywordtype">double</font> * pnoyau = noyau ;
00443             <font class="keywordflow">if</font> ( *pmask ) <font class="comment">/* convolution */</font>
00444               {
00445                 <font class="keywordflow">for</font> (k= 0; k &lt; 2* d +1  ; k++ )
00446                   {
00447                     S += *pimage * *pnoyau  ;   
00448                     pimage +=  tx ; pnoyau++  ;
00449                   } 
00450                 *parrivee++ = (Pixel) (S / Norma ) ;
00451                     
00452               }
00453             <font class="keywordflow">else</font>
00454               parrivee++ ; <font class="comment">// on ne fait rien</font>
00455            
00456             pmask++ ;
00457             penhautagauche++ ;
00458           }
00459       } 
00460  
00461     }  
00462     CATCHALL{THROW_SAME;}
00463     ENDTRY 
00464     <font class="keywordflow">return</font>; 
00465 }
00466 
00467 <font class="keyword">static</font> <font class="keywordtype">void</font> 
00468 Convole1DX_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; imgref ,   <font class="keywordtype">double</font> s ,
00469                      <a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; mask ,   <a class="code" href="class_image.html">Image</a> &amp; imgconv)<font class="keyword"></font>
00470 <font class="keyword"></font>{
00471   <font class="keywordtype">double</font> * noyau;
00472   TRY{
00473   noyau = Convole_MakeNoyau_1D(s,LDEMICOTE);   
00474   Convole1DX_LDEMICOTE(imgref, noyau , mask , imgconv);
00475   }
00476    CATCHALL{THROW_SAME;}
00477   ENDTRY 
00478     <font class="keywordflow">return</font>; 
00479 }
00480 
00481 <font class="keyword">static</font> <font class="keywordtype">void</font> 
00482 Convole1DX_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; imgref ,   <font class="keywordtype">double</font> s ,
00483                      <a class="code" href="class_image.html">Image</a> &amp; imgconv)<font class="keyword"></font>
00484 <font class="keyword"></font>{
00485   <font class="keywordtype">double</font> * noyau;
00486   TRY{
00487   noyau = Convole_MakeNoyau_1D(s,LDEMICOTE);    
00488   Convole1DX_LDEMICOTE(imgref, noyau , imgconv);
00489   }
00490   CATCHALL{THROW_SAME;}
00491   ENDTRY 
00492     <font class="keywordflow">return</font>; 
00493 }
00494 
00495 <font class="keyword">static</font> <font class="keywordtype">void</font> 
00496 Convole1DY_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; imgref ,   <font class="keywordtype">double</font> s ,
00497                      <a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; mask ,   <a class="code" href="class_image.html">Image</a> &amp; imgconv)<font class="keyword"></font>
00498 <font class="keyword"></font>{
00499   <font class="keywordtype">double</font> * noyau;
00500   TRY{
00501   noyau = Convole_MakeNoyau_1D(s,LDEMICOTE);   
00502   Convole1DY_LDEMICOTE(imgref, noyau , mask , imgconv);
00503   }
00504   CATCHALL{THROW_SAME;}
00505   ENDTRY 
00506     <font class="keywordflow">return</font>; 
00507 }
00508 
00509 <font class="keyword">static</font> <font class="keywordtype">void</font> 
00510 Convole1DY_LDEMICOTE(<a class="code" href="class_image.html">Image</a> <font class="keyword">const</font> &amp; imgref ,   <font class="keywordtype">double</font> s ,
00511                      <a class="code" href="class_image.html">Image</a> &amp; imgconv)<font class="keyword"></font>
00512 <font class="keyword"></font>{
00513   <font class="keywordtype">double</font> * noyau;
00514   TRY{
00515   noyau = Convole_MakeNoyau_1D(s,LDEMICOTE);    
00516   Convole1DY_LDEMICOTE(imgref, noyau , imgconv);
00517   }
00518   CATCHALL{THROW_SAME;}
00519     ENDTRY 
00520     <font class="keywordflow">return</font>; 
00521 }
00522 
</pre></div><hr><address><small>Generated at Sun Feb 8 18:22:49 2004 for toads by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
