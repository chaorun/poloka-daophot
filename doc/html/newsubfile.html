<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Syntax of the "subfile"</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindexRef" doxygen="_cgi:http://ici.la.bas/toto/tata/search.cgi" href="http://ici.la.bas/toto/tata/search.cgi">Search</a> &nbsp; </center>
<hr><a name="newsubfile"><h2>Syntax of the "subfile"</h2></a>
a subfile is a very simple text file that describes what should be  subtracted from what. We define 3 set of images, labelled "ref", "new1" and "new2", where "new1 and "new2" refer to the same epoch. We can either run a
<p>
<ul>
<li>"split subtraction" in which case, we compute new1-ref, new2-ref and new1+new2-ref; the detection will request to find an object in the 3 subtractions (with different significances). <li>or a single subtraction in which case new1 and new2 groups are merged, and we compute new-ref.</ul>
Before subtracting each group of images is aligned and coadded (using ImagesAlignAndSum). At the moment, seeings in a given stack are  NOT equalized, because the subtraction makes use of a kernel fitting (see <a class="el" href="class_kernelfit.html">KernelFit</a>) that can handle "mixed PSF's".
<p>
A "subfile" details the contents of these subtraction components through <a class="el" href="class_dbimage.html">DbImage</a> names. The choice between a single subtraction and "split" subtraction is specified by putting "ONE SUBTRACTION" in this file. "ADDFAKES" is a  statement that drives the code to add fake supernovae in the input (new) images (they are not altered anyway!) for detection efficiency studies. This option roughly doubles the processing time. Blank lines in the subfile are ignored. By default, newmake_sub reads a file named subfile in the current directory.
<p>
"FIXGEO" aims at fixing the geometric reference used to align all the images. Here is an example of a "subfile":
<p>
<div class="fragment"><pre><font class="preprocessor"># subtraction for fieldP1ccd9</font>
<font class="preprocessor"></font>REF
502809o09 &lt;SubImage&gt;
502810o09
502811o09
502813o09
502814o09
502815o09
502816o09
502817o09
NEW1
504604o09
504605o09
504606o09
504607o09
NEW2
504613o09
504614o09
504615o09
504616o09
<font class="preprocessor">#ADDFAKES</font>
<font class="preprocessor"></font>ONE SUBTRACTION
<font class="preprocessor">#FIXGEO</font>
502809o09</font></pre></div>
<p>
In this specific example, the split of images between NEW1 and NEW2 is irrelevant since we run a "simple" subtraction (as specified by ONE SUBTRACTION). ADDFAKES is commented and no fakes will be added.
<p>
<hr><address><small>Generated at Sun Feb 8 18:22:50 2004 for toads by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
