<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>dbimage.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindexRef" doxygen="_cgi:http://ici.la.bas/toto/tata/search.cgi" href="http://ici.la.bas/toto/tata/search.cgi">Search</a> &nbsp; </center>
<hr><h1>dbimage.h</h1><a href="dbimage_h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">// This may look like C code, but it is really -*- C++ -*-</font>
00002 <font class="preprocessor">#ifndef DBIMAGE__H</font>
00003 <font class="preprocessor"></font><font class="preprocessor">#define DBIMAGE__H</font>
00004 <font class="preprocessor"></font>
00005 
00052 <font class="preprocessor">#ifdef TODO</font>
00053 <font class="preprocessor"></font>
00054 - the handling of saveEverythingElse in the copies
00055 - why no copy constructor?
00056 
00057 <font class="preprocessor">#endif</font>
00058 <font class="preprocessor"></font>
00059 
00060 
00061 <font class="preprocessor">#ifdef __cplusplus </font><font class="comment">/* this file is also included by the dbfileParse.c </font>
00062 <font class="comment">which is C code generated from dbfile.y */</font>
00063 
00064 <font class="preprocessor">#include &lt;string&gt;</font>
00065 <font class="preprocessor">#include &lt;iostream&gt;</font> <font class="comment">/* for prototyping */</font>
00066 
00067 <font class="keyword">using</font> <font class="keyword">namespace </font>std;
00068 
00069 
00070 <font class="keyword">typedef</font> <font class="keyword">enum</font> DbImageKind { Raw = 1, Calibrated, Elixir};
00071 <font class="keyword">typedef</font> <font class="keyword">enum</font> DbImageCatalogKind { SExtractor = 1, Fitted_for_seeing , DaophotAls, DaophotAp, DaophotNei, DaophotLst, DaophotPk, DaophotNst};
00072 <font class="keyword">typedef</font> <font class="keyword">enum</font> DbImagePsfKind { DaophotPsf = 1};
00073 
00074 <font class="keyword">class </font>Path;
00075 
00081 <font class="preprocessor">#include "rootstuff.h"</font>
00082 
<a name="l00083"></a><a class="code" href="class_dbimage.html">00083</a> <font class="keyword">class </font><a class="code" href="class_dbimage.html">DbImage</a> 
00084 #ifdef USE_ROOT
00085 : <font class="keyword">public</font> TObject
00086 #endif <font class="comment">/* USE_ROOT */</font>
00087 {
00088 
00089 <font class="keyword">public</font>:
00090 
00091 
00092 
00093 <font class="keyword">private</font> :
00094   string imageName;
00095   string directory;
00096   <font class="keyword">const</font> Path *path;
00097   <font class="keywordtype">bool</font> create(<font class="keyword">const</font> string &amp;ActualPath);
00098 
00099 <font class="keyword">protected</font> :
00100   <font class="keywordtype">bool</font> saveEverythingElse; 
00101 
00102 <font class="keyword">public</font> :
00103 
00104   
00106   <font class="keyword">explicit</font> DbImage(<font class="keyword">const</font> string &amp;ImageName);
00107   
00109   <font class="keyword">explicit</font> DbImage(<font class="keyword">const</font> <font class="keywordtype">char</font> *ImageName);
00110   
00111   DbImage():imageName(<font class="stringliteral">""</font>),directory(<font class="stringliteral">""</font>),path(NULL), saveEverythingElse(<font class="keyword">false</font>)<font class="keyword"></font>{};
<a name="l00113"></a><a class="code" href="class_dbimage.html#a3">00113</a>   <font class="keywordtype">bool</font> IsValid()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> (path != NULL <font class="comment">/*directory != "" */</font>);};
00114 
<a name="l00116"></a><a class="code" href="class_dbimage.html#a4">00116</a>   string Name()<font class="keyword"> const </font>{<font class="keywordflow">return</font> imageName;}
00117     
00118   string Dir()<font class="keyword"> const </font>{<font class="keywordflow">return</font> directory;}
00119 
00120   DbImage(<font class="keyword">const</font> string &amp;ImageName, <font class="keyword">const</font> Path* APath); <font class="comment">/* used when collecting DbImages that match a name (with wildcards) */</font>
00121 
00123   <font class="keywordtype">bool</font> operator == (<font class="keyword">const</font> <a class="code" href="class_dbimage.html">DbImage</a> &amp;Right) <font class="keyword">const</font>;
00124 
00125 
00127 
00130   string FitsImageName(<font class="keyword">const</font> DbImageKind Kind) <font class="keyword">const</font> ;
00131 
00133   string ElixirName() <font class="keyword">const</font>;
00134 
00136 
00137   string ImageBackName(<font class="keyword">const</font> DbImageKind Kind) <font class="keyword">const</font> ;
00138 
00140   string FitsFlatName() <font class="keyword">const</font>;
00141 
00143   string FitsBiasName() <font class="keyword">const</font>;
00144 
00145 
00147   string FitsDarkName() <font class="keyword">const</font>;
00148 
00150   string FitsWeightName() <font class="keyword">const</font>;
00151 
00153   string FitsDeadName() <font class="keyword">const</font>;
00154   
00156   string FitsBadName() <font class="keyword">const</font>;
00157   
00159   string FitsCosmicName() <font class="keyword">const</font>;
00160 
00161   
00163   string FitsSatelliteName() <font class="keyword">const</font>;
00164   
00166   string FitsFringeName() <font class="keyword">const</font>;
00167 
00169   string FitsBackName() <font class="keyword">const</font>;
00170 
00171 
00173   string FitsMiniBackName() <font class="keyword">const</font>;
00175   string FitsSaturName() <font class="keyword">const</font>;
00176 
00178   string ImageMatchUsnoName() <font class="keyword">const</font>;
00179 
00181 
00183   string ImageCatalogName(<font class="keyword">const</font> DbImageCatalogKind Kind=SExtractor) <font class="keyword">const</font> ;
00184 
00186   string ImagePsfName(<font class="keyword">const</font> DbImagePsfKind Kind=DaophotPsf) <font class="keyword">const</font>; 
00187 
00188 
00189   string EverythingElseFileName()<font class="keyword"> const </font>{<font class="keywordflow">return</font> Dir()+<font class="stringliteral">"reddata.root"</font>;}
00190 
00193   <font class="keywordtype">bool</font> Create(<font class="keyword">const</font> string &amp;Path);
00194     
00195   <font class="comment">/* a somehow generic entry for all the above ones */</font>
00196   string GetFileName(<font class="keyword">const</font> <font class="keywordtype">char</font>* WhichFile) <font class="keyword">const</font>;
00197 
00198   <font class="keyword">friend</font> ostream&amp; <a class="code" href="starmatch_h.html#a3">operator &lt;&lt;</a>(ostream &amp;stream, <font class="keyword">const</font> <a class="code" href="class_dbimage.html">DbImage</a> &amp;I)<font class="keyword"> </font>{ I.dump(stream); <font class="keywordflow">return</font> stream;}
00199 
00200   <font class="keywordtype">void</font> dump(ostream &amp;stream = cout) <font class="keyword">const</font>;
00201 
00202 
00203   ~DbImage();
00204 
00205   <font class="keyword">friend</font> <font class="keyword">class </font><a class="code" href="class_dbimagelist.html">DbImageList</a>;
00206 
00207 <font class="preprocessor">#ifdef USE_ROOT</font>
00208 <font class="preprocessor"></font>  ClassDef(<a class="code" href="class_dbimage.html">DbImage</a>,1);
00209 <font class="preprocessor">#endif </font><font class="comment">/* USE_ROOT */</font>
00210 
00211   <font class="comment">// routines which have to do with IOs</font>
00212   <font class="keywordtype">void</font> init_from_name();
00213   <font class="keywordtype">bool</font> writeEverythingElse();
00214 
00215 };
00216 
00217 <font class="preprocessor">#include &lt;list&gt;</font>
00218 
00220 
<a name="l00221"></a><a class="code" href="class_dbimagelist.html">00221</a> <font class="keyword">class </font><a class="code" href="class_dbimagelist.html">DbImageList</a> : <font class="keyword">public</font> list&lt;DbImage&gt; {
00222 
00223 
00224   <font class="keyword">public</font> :
00226 
00228     <a class="code" href="class_dbimagelist.html#a0">DbImageList</a>(<font class="keyword">const</font> <font class="keywordtype">char</font> * PathName);
00229     <a class="code" href="class_dbimagelist.html#a0">DbImageList</a>(<font class="keyword">const</font> string &amp;PathName);
00231     <a class="code" href="class_dbimagelist.html#a0">DbImageList</a>(<font class="keyword">const</font> list&lt;string&gt; names);
00232 
00233   <a class="code" href="class_dbimagelist.html#a0">DbImageList</a>()<font class="keyword"> </font>{};
00234 
00236     <font class="keywordtype">void</font> <a class="code" href="class_dbimagelist.html#a4">FilterByDate</a>(<font class="keyword">const</font> <font class="keywordtype">int</font> a_date);
00237 
00238 
00240     <font class="keywordtype">int</font> <a class="code" href="class_dbimagelist.html#a5">Collect</a>(<font class="keyword">const</font> <font class="keywordtype">char</font> * PathName);
00241 
00242     <font class="keywordtype">void</font> dump(ostream &amp;stream = cout) <font class="keyword">const</font>;
<a name="l00244"></a><a class="code" href="class_dbimagelist.html#l0">00244</a>     <font class="keyword">friend</font> ostream &amp; <a class="code" href="starmatch_h.html#a3">operator &lt;&lt; </a>(ostream&amp; stream, <font class="keyword">const</font> <a class="code" href="class_dbimagelist.html">DbImageList</a>&amp; L)<font class="keyword"> </font>{L.dump(stream); <font class="keywordflow">return</font> stream;};
00245     <font class="comment">// SelectedDump(const int WhichInfos) const;</font>
00246    
00247 };
00248 
00249 
00250 <font class="keyword">typedef</font> list&lt;DbImage&gt;::iterator       DbImageIterator;
00251 <font class="keyword">typedef</font> list&lt;DbImage&gt;::const_iterator DbImageCIterator;
00252 
00254 
00258 <font class="keywordtype">void</font> <a class="code" href="dbimage_h.html#a14">DbInit</a>();
00259 
00261 
00262 <font class="keywordtype">void</font> <a class="code" href="dbimage_h.html#a15">DbConfigDump</a>(ostream &amp;stream = cout);
00263 
00264 <font class="comment">/* called by image_install.cc ;  this one knows the db structure */</font>
00265 <font class="keywordtype">int</font> InstallImage(<font class="keyword">const</font> <font class="keywordtype">char</font> *a_path, <font class="keyword">const</font> <font class="keywordtype">char</font> *a_file, DbImageKind kind);
00266 
00267 <font class="keywordtype">int</font> AssignInfo  (<font class="keyword">const</font> <a class="code" href="class_dbimage.html">DbImage</a> &amp;<a class="code" href="class_image.html">Image</a>, <font class="keyword">const</font> string &amp;FlatFitsFileName, <font class="keyword">const</font> <font class="keywordtype">char</font> * WhichInfo);
00268 
00269 <font class="keywordtype">int</font> DbConfigSetDumpLevel(<font class="keyword">const</font> <font class="keywordtype">int</font> level);
00270 
00271 string DbConfigFileName();
00272 
00273 
00274 <font class="preprocessor">#endif </font><font class="comment">/* __cplusplus */</font>
00275 
00276 
00277 
00278 <font class="preprocessor">#ifndef __CINT__</font>
00279 <font class="preprocessor"></font><font class="preprocessor">#ifdef __cplusplus</font>
00280 <font class="preprocessor"></font><font class="keyword">extern</font> <font class="stringliteral">"C"</font> {
00281 <font class="preprocessor">#endif</font>
00282 <font class="preprocessor"></font>
00283   <font class="comment">/* these ones are here because the parser is in C (it is yacc/lex generated) and is</font>
00284 <font class="comment">     hence separated from dbimage.cc. */</font>
00285 
00286 <font class="keywordtype">void</font> DbConfigAddImagePath(<font class="keyword">const</font> <font class="keywordtype">char</font> * a_path, <font class="keyword">const</font> <font class="keywordtype">char</font> *a_path_name);
00287 <font class="keywordtype">int</font>  DbConfigFileParse(<font class="keyword">const</font> <font class="keywordtype">char</font>*ConfigFileName);
00288 
00289 <font class="preprocessor">#ifdef __cplusplus</font>
00290 <font class="preprocessor"></font>}
00291 <font class="preprocessor">#endif</font>
00292 <font class="preprocessor"></font><font class="preprocessor">#endif </font><font class="comment">/* __CINT__ */</font>
00293 
00294 
00295 <font class="preprocessor">#endif </font><font class="comment">/* DBIMAGE__H */</font>
</pre></div><hr><address><small>Generated at Sun Feb 8 18:22:49 2004 for toads by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
